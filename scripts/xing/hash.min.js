define(["jquery","jqueryMobile"],function(g){var e=window,b=document,d={},a=null,c=function(i){return{key:i[0],value:i[1]}},f=function(j){d={};var i=j.split("&");g.each(i,function(k,m){var l=c(m.split("="));if(typeof d[l.key]=="undefined"){d[l.key]=l.value}else{if(typeof d[l.key]=="object"){d[l.key].push(l.value)}else{d[l.key]=[d[l.key],l.value]}}d[l[0]]=l[1]})},h={get:function(i){return typeof d[i]=="undefined"?null:d[i]},changePage:function(m){var l=m.split("?");var j=l[0];if(typeof l[1]!="undefined"){f(l[1])}var k=g(j);var i=k.data("script");if(i!=null&&a!=m){requirejs([i],function(){k.trigger("scriptloaded")})}if(typeof m!="undefined"&&m!=a){a=m;g.mobile.changePage(m)}}};g.mobile.hashListeningEnabled=false;g(e).on("hashchange",function(i){if(e.location.hash!=a){h.changePage(e.location.hash)}});g(b).on("click.page","[data-toggle=page]",function(i){e.location.hash=g(this).data("target")});g(b).bind("pagebeforechange",function(j,i){if(typeof i.toPage==="string"&&i.toPage.indexOf("?")>-1){i.options.dataUrl=i.toPage;i.toPage=i.toPage.split("?")[0]}});g(b).ready(function(){h.changePage(e.location.hash)});return h});